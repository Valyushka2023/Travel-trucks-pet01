import{c as j,d as v,a as E,b as w,s as B,e as L,r as t,j as e,O as N,f as P,h as W}from"./index-CqdJaE3x.js";import{u as b,C as y,S as I,s as k}from"./ClipLoader-g10q0tdV.js";const F="_pageDetailsWrapper_otmis_1",O="_loaderContainer_otmis_5",R="_error_otmis_6",n={pageDetailsWrapper:F,loaderContainer:O,error:R};function q(){const{_id:s}=j(),[x]=v(),l=x.get("tab")||"features",p=E(),m=w(B),c=L(),[u,_]=t.useState(null),[g,d]=t.useState(!1),[f,o]=t.useState(null),{visible:D,scrollToTop:S}=b(300);return t.useEffect(()=>{if(!s){o("Camper ID is missing.");return}const i=r=>{_(r),p(W(r))};(async()=>{var r;d(!0),o(null);try{const a=(r=c.state)==null?void 0:r.camper;if(a&&a._id===s){i(a);return}const C=m.find(T=>T._id===s);if(C){i(C);return}const h=await P(s);h?i(h):o("Camper not found.")}catch(a){o(a.message||"Unknown error")}finally{d(!1)}})()},[s,p,m,c.state]),t.useEffect(()=>{window.scrollTo(0,0)},[c.pathname,l]),g?e.jsx("div",{className:n.loaderContainer,children:e.jsx(y,{color:"#36D7B7",size:50})}):f?e.jsxs("div",{className:n.error,children:["⚠️ Error: ",f]}):u?e.jsxs("div",{className:n.pageDetailsWrapper,children:[e.jsx(N,{context:{camper:u,activeTab:l}}),e.jsx(I,{visible:D,onClick:S,className:k.fixedPosition})]}):e.jsx("div",{className:n.error,children:"⚠️ Camper not found."})}export{q as default};
