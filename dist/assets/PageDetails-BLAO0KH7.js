import{d as D,e as v,a as E,b as w,s as y,f as L,r as t,j as e,c as N,O as P,h as W,i as b}from"./index-D-09zEmN.js";import{u as B,S as I,s as k}from"./ScrollToTopButton-BSK_mNQJ.js";const F="_pageDetailsWrapper_otmis_1",O="_loaderContainer_otmis_5",R="_error_otmis_6",n={pageDetailsWrapper:F,loaderContainer:O,error:R};function z(){const{_id:s}=D(),[x]=v(),l=x.get("tab")||"features",p=E(),m=w(y),c=L(),[u,_]=t.useState(null),[g,d]=t.useState(!1),[f,o]=t.useState(null),{visible:S,scrollToTop:T}=B(300);return t.useEffect(()=>{if(!s){o("Camper ID is missing.");return}const i=a=>{_(a),p(b(a))};(async()=>{var a;d(!0),o(null);try{const r=(a=c.state)==null?void 0:a.camper;if(r&&r._id===s){i(r);return}const C=m.find(j=>j._id===s);if(C){i(C);return}const h=await W(s);h?i(h):o("Camper not found.")}catch(r){o(r.message||"Unknown error")}finally{d(!1)}})()},[s,p,m,c.state]),t.useEffect(()=>{window.scrollTo(0,0)},[c.pathname,l]),g?e.jsx("div",{className:n.loaderContainer,children:e.jsx(N,{type:"container"})}):f?e.jsxs("div",{className:n.error,children:["⚠️ Error: ",f]}):u?e.jsxs("div",{className:n.pageDetailsWrapper,children:[e.jsx(P,{context:{camper:u,activeTab:l}}),e.jsx(I,{visible:S,onClick:T,className:k.fixedPosition})]}):e.jsx("div",{className:n.error,children:"⚠️ Camper not found."})}export{z as default};
