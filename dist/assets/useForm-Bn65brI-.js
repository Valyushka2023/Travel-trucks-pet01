import{P as n,j as t,r as l,e as L,L as T}from"./index-D5KXFkkO.js";const $="_containerHerosection_1soj4_1",E="_reviewsLocation_1soj4_19",O="_titleReviews_1soj4_26",F="_locationTitle_1soj4_27",M="_iconStar_1soj4_42",P="_iconMap_1soj4_46",B="_textReviewsTitle_1soj4_62",q="_textLocationTitle_1soj4_67",H="_containerPrice_1soj4_71",A="_price_1soj4_79",d={containerHerosection:$,reviewsLocation:E,titleReviews:O,locationTitle:F,iconStar:M,iconMap:P,textReviewsTitle:B,textLocationTitle:q,containerPrice:H,price:A};function D({camper:e}){if(!e)return t.jsx("div",{children:"Loading..."});let i=0,r=0;return e.reviews&&e.reviews.length>0&&(i=e.reviews.reduce((s,_)=>s+(_.reviewer_rating||0),0)/e.reviews.length,r=e.reviews.length),t.jsxs("div",{className:d.containerHerosection,children:[t.jsx("h2",{children:e.name}),t.jsxs("div",{className:d.reviewsLocation,children:[t.jsxs("div",{className:d.titleReviews,children:[t.jsx("svg",{className:d.iconStar,width:"16",height:"16",viewBox:"0 0 32 32",children:t.jsx("use",{href:"/icons.svg#icon-star"})}),t.jsx("p",{className:d.textReviewsTitle,children:i?`${i.toFixed(1)} (${r} Reviews)`:"No reviews yet"})]}),t.jsxs("div",{className:d.locationTitle,children:[t.jsx("svg",{className:d.iconMap,width:"16",height:"16",viewBox:"0 0 32 32",children:t.jsx("use",{href:"/icons.svg#icon-map"})}),t.jsx("p",{className:d.textLocationTitle,children:e.location||"Location not available"})]})]}),t.jsx("div",{className:d.containerPrice,children:t.jsxs("h2",{className:d.price,children:["€",e.price?e.price.toFixed(2):"Price not available"]})})]})}D.propTypes={camper:n.shape({name:n.string.isRequired,location:n.string,price:n.number,reviews:n.arrayOf(n.shape({reviewer_rating:n.number}))})};const z="_modalOverlay_eskk4_1",G="_active_eskk4_17",V="_modalContent_eskk4_21",U="_fullScreenImage_eskk4_32",W="_closeButton_eskk4_39",h={modalOverlay:z,active:G,modalContent:V,fullScreenImage:U,closeButton:W};function p({imageUrl:e,onClose:i}){l.useEffect(()=>{const s=document.getElementById("fullScreenModalOverlay");return s&&s.classList.add(h.active),()=>{s&&s.classList.remove(h.active)}},[]);const r=s=>{s.target.id==="fullScreenModalOverlay"&&i()};return t.jsx("div",{id:"fullScreenModalOverlay",className:h.modalOverlay,onClick:r,children:t.jsxs("div",{className:h.modalContent,children:[t.jsx("img",{src:e,alt:"Повнорозмірне зображення",className:h.fullScreenImage}),t.jsx("button",{className:h.closeButton,onClick:i,children:"Close"})]})})}p.propTypes={imageUrl:n.string.isRequired,onClose:n.func.isRequired};const J="_containerPictures_1l487_1",K="_galleryImageButton_1l487_15",Q="_galleryItem_1l487_31",b={containerPictures:J,galleryImageButton:K,galleryItem:Q};function X({gallery:e}){const[i,r]=l.useState(null),[s,_]=l.useState(!1);if(l.useEffect(()=>{const u=()=>{_(window.innerWidth<=767)};return u(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]),!Array.isArray(e)||e.length===0)return t.jsx("div",{className:b.noImages,children:"No images available."});const y=u=>{if(s){console.log("Модальне вікно заблоковано на мобільних пристроях.");return}r(u),document.body.style.overflow="hidden"},f=()=>{r(null),document.body.style.overflow=""};return t.jsxs("div",{className:b.containerPictures,role:"list","aria-label":"Image Gallery",children:[e.map((u,m)=>t.jsx("button",{className:b.galleryImageButton,onClick:()=>y(u),"aria-label":`Open image ${m+1}`,children:t.jsx("img",{src:u,alt:`Gallery item ${m+1}`,className:b.galleryItem,loading:"lazy",onError:v=>{v.target.onerror=null,v.target.src="/placeholder.jpg"}})},m)),i&&t.jsx(p,{imageUrl:i,onClose:f})]})}X.propTypes={gallery:n.arrayOf(n.string).isRequired};const Y="_tabs_3jnqe_1",Z="_titlesTabs_3jnqe_23",ee="_textTitlesTabsFeatures_3jnqe_31",te="_textTitlesTabsReviews_3jnqe_32",se="_active_3jnqe_50",x={tabs:Y,titlesTabs:Z,textTitlesTabsFeatures:ee,textTitlesTabsReviews:te,active:se};function ie({camper:e,activeTab:i}){const r=L(),s=(e==null?void 0:e._id)||(e==null?void 0:e.id);return s?t.jsx("div",{className:x.tabs,children:t.jsxs("div",{className:x.titlesTabs,children:[t.jsx(T,{to:`/catalog/${s}`,state:{camper:e},className:`${x.textTitlesTabsFeatures} ${r.pathname===`/catalog/${s}`&&i!=="reviews"?x.active:""}`,children:"Features"}),t.jsx(T,{to:`/catalog/${s}/reviews`,state:{camper:e},className:`${x.textTitlesTabsReviews} ${r.pathname===`/catalog/${s}/reviews`&&i==="reviews"?x.active:""}`,children:"Reviews"})]})}):null}ie.propTypes={camper:n.shape({_id:n.string,id:n.string}),activeTab:n.string.isRequired};const oe=(e,i,r)=>{const[s,_]=l.useState(e),[y,f]=l.useState({}),[u,m]=l.useState(!1),[v,I]=l.useState(!1),[S,j]=l.useState(null),g=l.useCallback((o,a)=>i[o]?i[o](a,s):null,[i,s]),N=l.useCallback(()=>{const o={};return Object.keys(e).forEach(a=>{const c=g(a,s[a]);c&&(o[a]=c)}),f(o),Object.keys(o).length===0},[s,g,e]),k=l.useCallback(o=>{const{name:a,value:c}=o.target;if(_(w=>({...w,[a]:c})),j(null),v){const w=g(a,c);f(R=>({...R,[a]:w}))}},[g,v]),C=l.useCallback((o,a)=>{if(_(c=>({...c,[a]:o})),j(null),v){const c=g(a,o);f(w=>({...w,[a]:c}))}},[g,v]);return{formData:s,errors:y,isSubmitting:u,hasAttemptedSubmit:v,submissionError:S,handleInputChange:k,handleDateChange:C,handleSubmit:async o=>{if(o.preventDefault(),I(!0),!!N()){m(!0),j(null);try{await r(s)}catch(c){j(c.message||"Something went wrong. Please try again.")}finally{m(!1)}}}}};export{D as H,X as I,ie as T,oe as u};
