import{d as b,e as E,a as w,b as y,s as D,f as L,r as t,j as e,c as N,O as B,h as P,i as I}from"./index-D2inHSVb.js";import{u as k,S as F,s as O}from"./ScrollToTopButton-CiX1mJrd.js";import{u as R}from"./useTranslation-0psHgoRi.js";const A="_error_1m7va_2",n={"container-page":"_container-page_1m7va_1",error:A,"loader-container":"_loader-container_1m7va_17"};function G(){const{t:C}=R(),{_id:s}=b(),[_]=E(),l=_.get("tab")||"features",m=w(),u=y(D),c=L(),[p,T]=t.useState(null),[S,d]=t.useState(!1),[f,o]=t.useState(null),{visible:g,scrollToTop:j}=k(300);return t.useEffect(()=>{if(!s){o("Camper ID is missing.");return}const i=a=>{T(a),m(I(a))};(async()=>{var a;d(!0),o(null);try{const r=(a=c.state)==null?void 0:a.camper;if(r&&r._id===s){i(r);return}const h=u.find(v=>v._id===s);if(h){i(h);return}const x=await P(s);x?i(x):o("Camper not found.")}catch(r){o(r.message||"Unknown error")}finally{d(!1)}})()},[s,m,u,c.state]),t.useEffect(()=>{window.scrollTo(0,0)},[c.pathname,l]),S?e.jsx("div",{className:n["loader-container"],children:e.jsx(N,{type:"container"})}):f?e.jsxs("div",{className:n.error,children:["⚠️ Error: ",f]}):p?e.jsxs("div",{className:n["container-page"],children:[e.jsx(B,{context:{camper:p,activeTab:l}}),e.jsx(F,{visible:g,onClick:j,className:O["fixed-position"],label:C("up_button",{ns:"button"})})]}):e.jsx("div",{className:n.error,children:"⚠️ Camper not found"})}export{G as default};
